"use strict";(self.webpackChunkYouTube_app=self.webpackChunkYouTube_app||[]).push([[990],{1990:(T,g,s)=>{s.r(g),s.d(g,{AuthModule:()=>L});var p=s(6814),r=s(95),u=s(9310),c=s(4567),d=s(6208),n=s(6689),f=s(2490);function _(o,l){1&o&&(n.TgZ(0,"div"),n._uU(1," Please enter a login email "),n.qZA())}function h(o,l){1&o&&(n.TgZ(0,"div"),n._uU(1,"The login email is invalid."),n.qZA())}function v(o,l){if(1&o&&(n.TgZ(0,"div",10),n.YNc(1,_,2,0,"div",11),n.YNc(2,h,2,0,"div",11),n.qZA()),2&o){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",null==t.login||null==t.login.errors?null:t.login.errors.required),n.xp6(1),n.Q6J("ngIf",null==t.login||null==t.login.errors?null:t.login.errors.email)}}function w(o,l){1&o&&(n.TgZ(0,"div"),n._uU(1," Please enter a password "),n.qZA())}function C(o,l){if(1&o&&(n.TgZ(0,"div"),n._uU(1),n.qZA()),2&o){const t=n.oxw(2);n.xp6(1),n.hij(" Your password isn't strong enough: ",null==t.password||null==t.password.errors?null:t.password.errors.strongPassword.message," ")}}function x(o,l){if(1&o&&(n.TgZ(0,"div",10),n.YNc(1,w,2,0,"div",11),n.YNc(2,C,2,1,"div",11),n.qZA()),2&o){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",null==t.password||null==t.password.errors?null:t.password.errors.required),n.xp6(1),n.Q6J("ngIf",null==t.password||null==t.password.errors?null:t.password.errors.strongPassword)}}function b(o,l){if(1&o){const t=n.EpF();n.TgZ(0,"app-button",12),n.NdJ("click",function(e){n.CHM(t);const a=n.oxw();return n.KtG(a.onLogin(e))}),n._uU(1,"Login"),n.qZA()}if(2&o){const t=n.oxw();n.Q6J("type","submit")("disabled",!t.loginForm.valid)}}function P(o,l){if(1&o){const t=n.EpF();n.TgZ(0,"app-button",12),n.NdJ("click",function(e){n.CHM(t);const a=n.oxw();return n.KtG(a.onLogout(e))}),n._uU(1,"Logout"),n.qZA()}2&o&&n.Q6J("type","submit")("disabled",!1)}let Z=(()=>{class o{constructor(t,i){this.authService=t,this.router=i}ngOnInit(){this.authSubscription=this.authService.isLoggedIn$.subscribe(t=>this.isLoggedIn=t),this.loginForm=new r.cw({login:new r.NI("",[r.kI.required,r.kI.email]),password:new r.NI("",[r.kI.required,o=>o.value&&o.value.length?o.value.length<8?{strongPassword:{value:o.value,message:"at least 8 characters"}}:/[A-Z]/.test(o.value)&&/[a-z]/.test(o.value)?/[0-9]/.test(o.value)?/[`!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?~]/.test(o.value)?null:{strongPassword:{value:o.value,message:"inclusion of at least one special character, e.g., ! @ # ? ]"}}:{strongPassword:{value:o.value,message:"a mixture of letters and numbers"}}:{strongPassword:{value:o.value,message:"a mixture of both uppercase and lowercase letters"}}:null])})}get login(){return this.loginForm.get("login")}get password(){return this.loginForm.get("password")}onLogin(t){t?.preventDefault();const{login:i,password:e}=this.loginForm.value;this.authService.login({login:i,password:e}),this.isLoggedIn&&this.router.navigateByUrl("/youtube")}onLogout(t){t?.preventDefault(),this.authService.logout()}static#n=this.\u0275fac=function(i){return new(i||o)(n.Y36(c.e),n.Y36(u.F0))};static#o=this.\u0275cmp=n.Xpm({type:o,selectors:[["app-login"]],decls:16,vars:5,consts:[[1,"login_container"],[1,"login_subheader"],[1,"login_form","form",3,"formGroup"],[1,"form-control_wrapper"],["for","auth-login"],["type","email","name","auth-login","id","auth-login","required","","formControlName","login"],["class","error-message",4,"ngIf"],["for","auth-password"],["type","password","name","auth-password","id","auth-password","required","","formControlName","password"],[3,"type","disabled","click",4,"ngIf"],[1,"error-message"],[4,"ngIf"],[3,"type","disabled","click"]],template:function(i,e){1&i&&(n.TgZ(0,"div",0)(1,"p",1),n._uU(2,"Login"),n.qZA(),n.TgZ(3,"form",2)(4,"div",3)(5,"label",4),n._uU(6,"login"),n.qZA(),n._UZ(7,"input",5),n.YNc(8,v,3,2,"div",6),n.qZA(),n.TgZ(9,"div",3)(10,"label",7),n._uU(11,"password"),n.qZA(),n._UZ(12,"input",8),n.YNc(13,x,3,2,"div",6),n.qZA(),n.YNc(14,b,2,2,"app-button",9),n.YNc(15,P,2,2,"app-button",9),n.qZA()()),2&i&&(n.xp6(3),n.Q6J("formGroup",e.loginForm),n.xp6(5),n.Q6J("ngIf",(null==e.login?null:e.login.invalid)&&((null==e.login?null:e.login.dirty)||(null==e.login?null:e.login.touched))),n.xp6(5),n.Q6J("ngIf",(null==e.password?null:e.password.invalid)&&((null==e.password?null:e.password.dirty)||(null==e.password?null:e.password.touched))),n.xp6(1),n.Q6J("ngIf",!e.isLoggedIn),n.xp6(1),n.Q6J("ngIf",e.isLoggedIn))},dependencies:[p.O5,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,f.r],styles:[".login_container[_ngcontent-%COMP%]{width:344px;margin:45px auto;background:#f2f2f2;border-radius:5px;padding:28px 20px 24px}.login_container[_ngcontent-%COMP%]   .login_subheader[_ngcontent-%COMP%]{color:#000;font-family:Roboto;font-size:18px;font-style:normal;font-weight:700;line-height:normal}.login_container[_ngcontent-%COMP%]   .login_form[_ngcontent-%COMP%]{margin-top:11px}.login_container[_ngcontent-%COMP%]   .form-control_wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.login_container[_ngcontent-%COMP%]   .form-control_wrapper[_ngcontent-%COMP%]:not(:last-of-type){margin-bottom:4px}.login_container[_ngcontent-%COMP%]   .form-control_wrapper[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#828282;font-family:Roboto;font-size:10px;font-style:normal;font-weight:400;line-height:normal;margin-left:6px}.login_container[_ngcontent-%COMP%]   .form-control_wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background:#e0e0e0;color:#000;font-family:Roboto;font-size:10px;font-style:normal;font-weight:400;line-height:normal;padding:13px 8px}.login_container[_ngcontent-%COMP%]   app-button[_ngcontent-%COMP%]{width:124px;height:30px;display:block;margin-left:auto;margin-top:22px;border-radius:5px}input.ng-invalid.ng-touched[_ngcontent-%COMP%], input.ng-invalid.ng-dirty[_ngcontent-%COMP%]{border:1px solid red}.error-message[_ngcontent-%COMP%]{color:red}"]})}return o})();const y=[{path:"",component:(()=>{class o{static#n=this.\u0275fac=function(i){return new(i||o)};static#o=this.\u0275cmp=n.Xpm({type:o,selectors:[["app-auth"]],decls:1,vars:0,template:function(i,e){1&i&&n._UZ(0,"app-login")},dependencies:[Z]})}return o})()}];let L=(()=>{class o{static#n=this.\u0275fac=function(i){return new(i||o)};static#o=this.\u0275mod=n.oAB({type:o});static#t=this.\u0275inj=n.cJS({providers:[Permissions,c.e],imports:[p.ez,r.UX,u.Bz.forChild(y),d.m,u.Bz]})}return o})()}}]);